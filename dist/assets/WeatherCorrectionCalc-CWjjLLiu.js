import{r as c,j as e}from"./index-gA9Swaag.js";function y(d,x,t){const n=(29.92-x)*1e3,r=59-n/1e3*3.5,a=(d-r)*120,o=t*.5;return n+a+o}function j(d,x,t){const a=1-(d-60)*.003,o=x/29.92,h=1-t*.001;return a*o*h}function z({baseET:d=10,compact:x=!1}){const[t,n]=c.useState({tempF:70,baroInHg:29.92,humidityPct:50}),[r,a]=c.useState({tempF:80,baroInHg:29.8,humidityPct:60}),[o,h]=c.useState(d),g=c.useMemo(()=>y(t.tempF,t.baroInHg,t.humidityPct),[t]),v=c.useMemo(()=>y(r.tempF,r.baroInHg,r.humidityPct),[r]),f=c.useMemo(()=>j(t.tempF,t.baroInHg,t.humidityPct),[t]),b=c.useMemo(()=>j(r.tempF,r.baroInHg,r.humidityPct),[r]),C=(1-f/b)*.5,l=o*C,F=o+l,m=(r.tempF-t.tempF)*.001*o,u=(t.baroInHg-r.baroInHg)*.3*o/29.92,p=(r.humidityPct-t.humidityPct)*5e-4*o;return x?e.jsxs("div",{className:"card",style:{padding:"12px 16px"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:"8px",fontSize:"0.85rem"},children:"Weather Correction"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"0.8rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--color-text-muted)",marginBottom:"4px"},children:"Baseline DA"}),e.jsxs("div",{style:{fontWeight:600},children:[g.toFixed(0)," ft"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--color-text-muted)",marginBottom:"4px"},children:"Current DA"}),e.jsxs("div",{style:{fontWeight:600},children:[v.toFixed(0)," ft"]})]})]}),e.jsxs("div",{style:{marginTop:"12px",padding:"8px",backgroundColor:l>0?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",borderRadius:"6px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"ET Adjustment"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:700,color:l>0?"#ef4444":"#22c55e"},children:[l>=0?"+":"",l.toFixed(3),"s"]})]})]}):e.jsxs("div",{className:"card",style:{padding:"20px"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"16px"},children:"Weather Correction Calculator"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--color-text-muted)"},children:"Baseline Conditions"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Temperature (Â°F)"}),e.jsx("input",{type:"number",className:"input",value:t.tempF,onChange:i=>n(s=>({...s,tempF:parseFloat(i.target.value)||0}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Barometer (inHg)"}),e.jsx("input",{type:"number",step:"0.01",className:"input",value:t.baroInHg,onChange:i=>n(s=>({...s,baroInHg:parseFloat(i.target.value)||29.92}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Humidity (%)"}),e.jsx("input",{type:"number",className:"input",value:t.humidityPct,onChange:i=>n(s=>({...s,humidityPct:parseFloat(i.target.value)||0}))})]}),e.jsxs("div",{style:{padding:"8px",backgroundColor:"var(--color-bg)",borderRadius:"6px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Density Altitude"}),e.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600},children:[g.toFixed(0)," ft"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--color-text-muted)"},children:"Current Conditions"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Temperature (Â°F)"}),e.jsx("input",{type:"number",className:"input",value:r.tempF,onChange:i=>a(s=>({...s,tempF:parseFloat(i.target.value)||0}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Barometer (inHg)"}),e.jsx("input",{type:"number",step:"0.01",className:"input",value:r.baroInHg,onChange:i=>a(s=>({...s,baroInHg:parseFloat(i.target.value)||29.92}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Humidity (%)"}),e.jsx("input",{type:"number",className:"input",value:r.humidityPct,onChange:i=>a(s=>({...s,humidityPct:parseFloat(i.target.value)||0}))})]}),e.jsxs("div",{style:{padding:"8px",backgroundColor:"var(--color-bg)",borderRadius:"6px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Density Altitude"}),e.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600},children:[v.toFixed(0)," ft"]})]})]})]})]}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("label",{className:"label",children:"Your Base ET (seconds)"}),e.jsx("input",{type:"number",step:"0.001",className:"input",style:{maxWidth:"150px"},value:o,onChange:i=>h(parseFloat(i.target.value)||10)})]}),e.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"var(--color-bg)",borderRadius:"8px"},children:[e.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px"},children:"Correction Breakdown"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"16px"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Temperature"}),e.jsxs("div",{style:{fontWeight:600,color:m>0?"#ef4444":m<0?"#22c55e":"var(--color-text)"},children:[m>=0?"+":"",m.toFixed(3),"s"]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Barometer"}),e.jsxs("div",{style:{fontWeight:600,color:u>0?"#ef4444":u<0?"#22c55e":"var(--color-text)"},children:[u>=0?"+":"",u.toFixed(3),"s"]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Humidity"}),e.jsxs("div",{style:{fontWeight:600,color:p>0?"#ef4444":p<0?"#22c55e":"var(--color-text)"},children:[p>=0?"+":"",p.toFixed(3),"s"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:l>0?"rgba(239, 68, 68, 0.1)":"rgba(34, 197, 94, 0.1)",borderRadius:"8px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Total Correction"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:l>0?"#ef4444":"#22c55e"},children:[l>=0?"+":"",l.toFixed(3),"s"]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Corrected ET"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700},children:[F.toFixed(3),"s"]})]})]})]}),e.jsxs("div",{style:{marginTop:"16px",fontSize:"0.75rem",color:"var(--color-text-muted)",padding:"8px",backgroundColor:"var(--color-surface)",borderRadius:"6px"},children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," These are approximate corrections. Actual results vary by vehicle. Track your runs to develop your own correction factors."]})]})}export{z as default};
//# sourceMappingURL=WeatherCorrectionCalc-CWjjLLiu.js.map

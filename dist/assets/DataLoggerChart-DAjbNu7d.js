import{f as K,R as g,L as T,m as ee,i as V,C as te,A as Pe,a as z,b as M,c as Ne,d as ce,e as de,h as Ke,g as Oe,r as E,G as je,j as G,k as re,l as ne,D as Be,u as Se,S as ye,n as Me,o as We,p as we,E as Le,q as Fe,s as Ve,t as He,v as N,B as Ge,X as _e,Y as H,w as Xe,x as b,y as Ye,z as Ze,F as ve,T as qe}from"./index-QwRq_KcK.js";var Je=["layout","type","stroke","connectNulls","isRange","ref"],Qe=["key"],ke;function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function Ee(t,e){if(t==null)return{};var n=Ue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(this,arguments)}function xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xe(Object(n),!0).forEach(function(r){C(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,De(r.key),r)}}function tt(t,e,n){return e&&be(t.prototype,e),n&&be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rt(t,e,n){return e=ie(e),nt(t,Ie()?Reflect.construct(e,n||[],ie(t).constructor):e.apply(t,n))}function nt(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ie=function(){return!!t})()}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ie(t)}function at(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ue(t,e)}function C(t,e,n){return e=De(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function De(t){var e=ot(t,"string");return X(e)=="symbol"?e:e+""}function ot(t,e){if(X(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F=function(t){function e(){var n;et(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=rt(this,e,[].concat(i)),C(n,"state",{isAnimationFinished:!0}),C(n,"id",Se("recharts-area-")),C(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ne(s)&&s()}),C(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ne(s)&&s()}),n}return at(e,t),tt(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(s&&!d)return null;var p=this.props,l=p.dot,c=p.points,f=p.dataKey,y=K(this.props,!1),x=K(l,!0),o=c.map(function(m,v){var P=B(B(B({key:"dot-".concat(v),r:3},y),x),{},{index:v,cx:m.x,cy:m.y,dataKey:f,value:m.value,payload:m.payload,points:c});return e.renderDotItem(l,P)}),u={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return g.createElement(T,L({className:"recharts-area-dots"},u),o)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,d=i.strokeWidth,p=s[0].x,l=s[s.length-1].x,c=r*Math.abs(p-l),f=ee(s.map(function(y){return y.y||0}));return V(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ee(a.map(function(y){return y.y||0})),f)),V(f)?g.createElement("rect",{x:p<l?p:p-c,y:0,width:c,height:Math.floor(f+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,d=i.strokeWidth,p=s[0].y,l=s[s.length-1].y,c=r*Math.abs(p-l),f=ee(s.map(function(y){return y.x||0}));return V(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ee(a.map(function(y){return y.x||0})),f)),V(f)?g.createElement("rect",{x:0,y:p<l?p:p-c,width:f+(d?parseInt("".concat(d),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var d=this.props,p=d.layout,l=d.type,c=d.stroke,f=d.connectNulls,y=d.isRange;d.ref;var x=Ee(d,Je);return g.createElement(T,{clipPath:a?"url(#clipPath-".concat(s,")"):null},g.createElement(te,L({},K(x,!0),{points:r,connectNulls:f,type:l,baseLine:i,layout:p,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(te,L({},K(this.props,!1),{className:"recharts-area-curve",layout:p,type:l,connectNulls:f,fill:"none",points:r})),c!=="none"&&y&&g.createElement(te,L({},K(this.props,!1),{className:"recharts-area-curve",layout:p,type:l,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,d=s.points,p=s.baseLine,l=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,y=s.animationEasing,x=s.animationId,o=this.state,u=o.prevPoints,m=o.prevBaseLine;return g.createElement(Pe,{begin:c,duration:f,isActive:l,easing:y,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var P=v.t;if(u){var h=u.length/d.length,A=d.map(function(_,$){var I=Math.floor($*h);if(u[I]){var D=u[I],R=z(D.x,_.x),q=z(D.y,_.y);return B(B({},_),{},{x:R(P),y:q(P)})}return _}),O;if(V(p)&&typeof p=="number"){var j=z(m,p);O=j(P)}else if(M(p)||Ne(p)){var w=z(m,0);O=w(P)}else O=p.map(function(_,$){var I=Math.floor($*h);if(m[I]){var D=m[I],R=z(D.x,_.x),q=z(D.y,_.y);return B(B({},_),{},{x:R(P),y:q(P)})}return _});return a.renderAreaStatically(A,O,r,i)}return g.createElement(T,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(P))),g.createElement(T,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(d,p,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,d=a.baseLine,p=a.isAnimationActive,l=this.state,c=l.prevPoints,f=l.prevBaseLine,y=l.totalLength;return p&&s&&s.length&&(!c&&y>0||!ce(c,s)||!ce(f,d))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,d,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,d=i.points,p=i.className,l=i.top,c=i.left,f=i.xAxis,y=i.yAxis,x=i.width,o=i.height,u=i.isAnimationActive,m=i.id;if(a||!d||!d.length)return null;var v=this.state.isAnimationFinished,P=d.length===1,h=de("recharts-area",p),A=f&&f.allowDataOverflow,O=y&&y.allowDataOverflow,j=A||O,w=M(m)?this.id:m,_=(r=K(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=_.r,I=$===void 0?3:$,D=_.strokeWidth,R=D===void 0?2:D,q=Ke(s)?s:{},me=q.clipDot,he=me===void 0?!0:me,U=I*2+R;return g.createElement(T,{className:h},A||O?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(w)},g.createElement("rect",{x:A?c:c-x/2,y:O?l:l-o/2,width:A?x:x*2,height:O?o:o*2})),!he&&g.createElement("clipPath",{id:"clipPath-dots-".concat(w)},g.createElement("rect",{x:c-U/2,y:l-U/2,width:x+U,height:o+U}))):null,P?null:this.renderArea(j,w),(s||P)&&this.renderDots(j,he,w),(!u||v)&&Oe.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(E.PureComponent);ke=F;C(F,"displayName","Area");C(F,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!je.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});C(F,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,d=s??a;if(V(d)&&typeof d=="number")return d;var p=i==="horizontal"?r:n,l=p.scale.domain();if(p.type==="number"){var c=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return d==="dataMin"?f:d==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return d==="dataMin"?l[0]:d==="dataMax"?l[1]:l[0]});C(F,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,d=t.bandSize,p=t.dataKey,l=t.stackedData,c=t.dataStartIndex,f=t.displayedData,y=t.offset,x=e.layout,o=l&&l.length,u=ke.getBaseValue(e,n,r,i),m=x==="horizontal",v=!1,P=f.map(function(A,O){var j;o?j=l[c+O]:(j=G(A,p),Array.isArray(j)?v=!0:j=[u,j]);var w=j[1]==null||o&&G(A,p)==null;return m?{x:re({axis:r,ticks:a,bandSize:d,entry:A,index:O}),y:w?null:i.scale(j[1]),value:j,payload:A}:{x:w?null:r.scale(j[1]),y:re({axis:i,ticks:s,bandSize:d,entry:A,index:O}),value:j,payload:A}}),h;return o||v?h=P.map(function(A){var O=Array.isArray(A.value)?A.value[0]:null;return m?{x:A.x,y:O!=null&&A.y!=null?i.scale(O):null}:{x:O!=null?r.scale(O):null,y:A.y}}):h=m?i.scale(u):r.scale(u),B({points:P,baseLine:h,layout:x,isRange:v},y)});C(F,"renderDotItem",function(t,e){var n;if(g.isValidElement(t))n=g.cloneElement(t,e);else if(ne(t))n=t(e);else{var r=de("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Ee(e,Qe);n=g.createElement(Be,L({},a,{key:i,className:r}))}return n});function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ze(r.key),r)}}function ct(t,e,n){return e&&lt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ut(t,e,n){return e=ae(e),pt(t,$e()?Reflect.construct(e,n||[],ae(t).constructor):e.apply(t,n))}function pt(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ft(t)}function ft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($e=function(){return!!t})()}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ae(t)}function dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pe(t,e)}function Re(t,e,n){return e=ze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(t){var e=mt(t,"string");return Y(e)=="symbol"?e:e+""}function mt(t,e){if(Y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var se=function(t){function e(){return st(this,e),ut(this,e,arguments)}return dt(e,t),ct(e,[{key:"render",value:function(){return null}}])}(E.Component);Re(se,"displayName","ZAxis");Re(se,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var ht=["option","isActive"];function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J.apply(this,arguments)}function yt(t,e){if(t==null)return{};var n=vt(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xt(t){var e=t.option,n=t.isActive,r=yt(t,ht);return typeof e=="string"?E.createElement(ye,J({option:E.createElement(Me,J({type:e},r)),isActive:n,shapeType:"symbols"},r)):E.createElement(ye,J({option:e,isActive:n,shapeType:"symbols"},r))}function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ge(Object(n),!0).forEach(function(r){W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ce(r.key),r)}}function gt(t,e,n){return e&&Ae(t.prototype,e),n&&Ae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function At(t,e,n){return e=oe(e),Pt(t,Te()?Reflect.construct(e,n||[],oe(t).constructor):e.apply(t,n))}function Pt(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot(t)}function Ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Te=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oe(t)}function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fe(t,e)}function W(t,e,n){return e=Ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ce(t){var e=St(t,"string");return Z(e)=="symbol"?e:e+""}function St(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var le=function(t){function e(){var n;bt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=At(this,e,[].concat(i)),W(n,"state",{isAnimationFinished:!1}),W(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),W(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),W(n,"id",Se("recharts-scatter-")),n}return jt(e,t),gt(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,s=a.shape,d=a.activeShape,p=a.activeIndex,l=K(this.props,!1);return r.map(function(c,f){var y=p===f,x=y?d:s,o=k(k({},l),c);return g.createElement(T,Q({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(f)},We(i.props,c,f),{role:"img"}),g.createElement(xt,Q({option:x,isActive:y,key:"symbol-".concat(f)},o)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,s=i.isAnimationActive,d=i.animationBegin,p=i.animationDuration,l=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return g.createElement(Pe,{begin:d,duration:p,isActive:s,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,o=a.map(function(u,m){var v=f&&f[m];if(v){var P=z(v.cx,u.cx),h=z(v.cy,u.cy),A=z(v.size,u.size);return k(k({},u),{},{cx:P(x),cy:h(x),size:A(x)})}var O=z(0,u.size);return k(k({},u),{},{size:O(x)})});return g.createElement(T,null,r.renderSymbolsStatically(o))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!ce(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,d=i.yAxis,p=i.children,l=we(p,Le);return l?l.map(function(c,f){var y=c.props,x=y.direction,o=y.dataKey;return g.cloneElement(c,{key:"".concat(x,"-").concat(o,"-").concat(a[f]),data:a,xAxis:s,yAxis:d,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(m,v){return{x:m.cx,y:m.cy,value:x==="x"?+m.node.x:+m.node.y,errorVal:G(m,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,s=r.lineType,d=r.lineJointType,p=K(this.props,!1),l=K(a,!1),c,f;if(s==="joint")c=i.map(function(h){return{x:h.cx,y:h.cy}});else if(s==="fitting"){var y=Fe(i),x=y.xmin,o=y.xmax,u=y.a,m=y.b,v=function(A){return u*A+m};c=[{x,y:v(x)},{x:o,y:v(o)}]}var P=k(k(k({},p),{},{fill:"none",stroke:p&&p.fill},l),{},{points:c});return g.isValidElement(a)?f=g.cloneElement(a,P):ne(a)?f=a(P):f=g.createElement(te,Q({},P,{type:d})),g.createElement(T,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,s=r.line,d=r.className,p=r.xAxis,l=r.yAxis,c=r.left,f=r.top,y=r.width,x=r.height,o=r.id,u=r.isAnimationActive;if(i||!a||!a.length)return null;var m=this.state.isAnimationFinished,v=de("recharts-scatter",d),P=p&&p.allowDataOverflow,h=l&&l.allowDataOverflow,A=P||h,O=M(o)?this.id:o;return g.createElement(T,{className:v,clipPath:A?"url(#clipPath-".concat(O,")"):null},P||h?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(O)},g.createElement("rect",{x:P?c:c-y/2,y:h?f:f-x/2,width:P?y:y*2,height:h?x:x*2}))):null,s&&this.renderLine(),this.renderErrorBar(),g.createElement(T,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!u||m)&&Oe.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(E.PureComponent);W(le,"displayName","Scatter");W(le,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!je.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});W(le,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,d=t.yAxisTicks,p=t.offset,l=i.props.tooltipType,c=we(i.props.children,Ve),f=M(e.dataKey)?i.props.dataKey:e.dataKey,y=M(n.dataKey)?i.props.dataKey:n.dataKey,x=r&&r.dataKey,o=r?r.range:se.defaultProps.range,u=o&&o[0],m=e.scale.bandwidth?e.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,P=a.map(function(h,A){var O=G(h,f),j=G(h,y),w=!M(x)&&G(h,x)||"-",_=[{name:M(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:O,payload:h,dataKey:f,type:l},{name:M(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:h,dataKey:y,type:l}];w!=="-"&&_.push({name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:h,dataKey:x,type:l});var $=re({axis:e,ticks:s,bandSize:m,entry:h,index:A,dataKey:f}),I=re({axis:n,ticks:d,bandSize:v,entry:h,index:A,dataKey:y}),D=w!=="-"?r.scale(w):u,R=Math.sqrt(Math.max(D,0)/Math.PI);return k(k({},h),{},{cx:$,cy:I,x:$-R,y:I-R,xAxis:e,yAxis:n,zAxis:r,width:2*R,height:2*R,size:D,node:{x:O,y:j,z:w},tooltipPayload:_,tooltipPosition:{x:$,y:I},payload:h},c&&c[A]&&c[A].props)});return k({points:P},p)});var wt=He({chartName:"ComposedChart",GraphicalChild:[N,F,Ge,le],axisComponents:[{axisType:"xAxis",AxisComp:_e},{axisType:"yAxis",AxisComp:H},{axisType:"zAxis",AxisComp:se}],formatAxisMap:Xe});const S={rpm:{name:"Engine RPM",color:"#ef4444",unit:"RPM",yAxisId:"rpm"},dsrpm:{name:"Driveshaft RPM",color:"#f97316",unit:"RPM",yAxisId:"rpm"},lockRpm:{name:"Clutch/Conv RPM",color:"#eab308",unit:"RPM",yAxisId:"rpm"},v_mph:{name:"Car Speed",color:"#22c55e",unit:"mph",yAxisId:"speed"},a_g:{name:"Acceleration",color:"#3b82f6",unit:"g",yAxisId:"accel"},hp:{name:"Horsepower",color:"#8b5cf6",unit:"HP",yAxisId:"hp"},dragHp:{name:"Drag HP",color:"#ec4899",unit:"HP",yAxisId:"hp"},gear:{name:"Gear",color:"#9ca3af",unit:"",yAxisId:"gear"}};function kt({data:t,distanceMarkers:e=[60,330,660,1e3,1320],raceLengthFt:n=1320}){const[r,i]=E.useState("time"),[a,s]=E.useState(new Set(["rpm","v_mph","a_g"])),d=o=>{s(u=>{const m=new Set(u);return m.has(o)?m.delete(o):m.add(o),m})},p=E.useMemo(()=>{const o=new Set;return a.forEach(u=>{o.add(S[u].yAxisId)}),o},[a]),{chartData:l,markerIndices:c}=E.useMemo(()=>{let o=0;for(let h=0;h<t.length;h++)if(t[h].t_s>0){o=Math.max(0,h-1);break}const u=t.slice(o),m=e.filter(h=>h<=n),v=[];for(const h of m){let A=-1,O=1/0;for(let j=0;j<u.length;j++){const w=Math.abs(u[j].s_ft-h);w<O&&(O=w,A=j)}A>=0&&v.push({distance:h,index:A})}return{chartData:u.map(h=>({...h,xValue:r==="time"?h.t_s:h.s_ft})),markerIndices:v}},[t,r,e,n]),f=E.useMemo(()=>c.map(o=>{var u;return{distance:o.distance,xValue:(u=l[o.index])==null?void 0:u.xValue}}).filter(o=>o.xValue!==void 0&&!isNaN(o.xValue)),[l,c]),y=E.useMemo(()=>{const o=[];for(let u=1;u<l.length;u++){const m=l[u-1],v=l[u];m.gear!==v.gear&&v.gear>m.gear&&o.push({xValue:v.xValue,fromGear:m.gear,toGear:v.gear})}return o},[l]);if(!t||t.length===0)return b.jsx("div",{className:"text-center text-muted",style:{padding:"var(--space-6)"},children:"No trace data available"});const x=["speed","accel","hp"].filter(o=>p.has(o)).length;return b.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)",marginBottom:"var(--space-2)",flexShrink:0},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[b.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"var(--color-text-muted)"},children:"X-Axis"}),b.jsxs("div",{style:{display:"inline-flex",borderRadius:"var(--radius-md)",overflow:"hidden",border:"2px solid var(--color-border)",backgroundColor:"var(--color-bg-secondary)"},children:[b.jsx("button",{onClick:()=>i("time"),style:{padding:"8px 20px",border:"none",backgroundColor:r==="time"?"var(--color-primary)":"transparent",color:r==="time"?"white":"var(--color-text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.15s ease"},children:"Time (s)"}),b.jsx("button",{onClick:()=>i("distance"),style:{padding:"8px 20px",border:"none",borderLeft:"2px solid var(--color-border)",backgroundColor:r==="distance"?"var(--color-primary)":"transparent",color:r==="distance"?"white":"var(--color-text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.15s ease"},children:"Distance (ft)"})]})]}),b.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:Object.entries(S).map(([o,u])=>{if(!t.some(P=>P[o]!==void 0))return null;const v=a.has(o);return b.jsxs("button",{onClick:()=>d(o),title:u.name,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"12px",border:"none",backgroundColor:v?u.color:"var(--color-bg-secondary)",color:v?"white":"var(--color-text-muted)",cursor:"pointer",fontSize:"0.7rem",fontWeight:600,transition:"all 0.15s ease",opacity:v?1:.7},children:[b.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:v?"white":u.color}}),u.name]},o)})})]}),b.jsx("div",{style:{flex:1,minHeight:0},children:b.jsx(Ye,{width:"100%",height:"100%",children:b.jsxs(wt,{data:l,margin:{top:20,right:5+x*40,left:5,bottom:20},children:[b.jsx(Ze,{strokeDasharray:"3 3",stroke:"var(--color-border)",opacity:.3}),b.jsx(_e,{dataKey:"xValue",type:"number",domain:["dataMin","dataMax"],stroke:"var(--color-text-muted)",tick:{fontSize:10,fill:"var(--color-text-muted)"},tickFormatter:o=>r==="time"?o.toFixed(1):o.toFixed(0),label:{value:r==="time"?"Time (s)":"Distance (ft)",position:"insideBottom",offset:-10,fontSize:11,fill:"var(--color-text-muted)"}}),p.has("rpm")&&b.jsx(H,{yAxisId:"rpm",orientation:"left",stroke:"#ef4444",tick:{fontSize:10,fill:"#ef4444"},tickFormatter:o=>`${(o/1e3).toFixed(0)}k`,width:40}),p.has("speed")&&b.jsx(H,{yAxisId:"speed",orientation:"right",stroke:"#22c55e",tick:{fontSize:10,fill:"#22c55e"},width:35}),p.has("accel")&&b.jsx(H,{yAxisId:"accel",orientation:"right",stroke:"#3b82f6",domain:[0,"auto"],tick:{fontSize:10,fill:"#3b82f6"},tickFormatter:o=>o.toFixed(1),width:30}),p.has("hp")&&b.jsx(H,{yAxisId:"hp",orientation:"right",stroke:"#8b5cf6",tick:{fontSize:10,fill:"#8b5cf6"},width:40}),b.jsx(H,{yAxisId:"gear",orientation:"right",domain:[0,6],hide:!0}),f.map(o=>b.jsx(ve,{x:o.xValue,yAxisId:"rpm",stroke:"var(--color-chart-marker)",strokeWidth:2,strokeDasharray:"6 4",label:{value:`${o.distance}'`,position:"insideTopRight",fill:"var(--color-chart-marker)",fontSize:10,fontWeight:700,offset:5}},`dist-${o.distance}`)),y.map((o,u)=>b.jsx(ve,{x:o.xValue,yAxisId:"rpm",stroke:"#f59e0b",strokeWidth:1.5,strokeDasharray:"3 3",label:{value:`${o.fromGear}â†’${o.toGear}`,position:"insideBottomRight",fill:"#f59e0b",fontSize:9,fontWeight:600}},`shift-${u}`)),b.jsx(qe,{contentStyle:{backgroundColor:"var(--color-bg)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",color:"var(--color-text)",fontSize:"0.75rem",padding:"8px"},formatter:(o,u)=>{const m=Object.values(S).find(v=>v.name===u);return m?[`${o.toFixed(m.unit==="RPM"?0:2)} ${m.unit}`,u]:[o.toFixed(2),u]},labelFormatter:o=>r==="time"?`Time: ${o.toFixed(3)}s`:`Distance: ${o.toFixed(0)} ft`}),a.has("rpm")&&b.jsx(N,{type:"monotone",dataKey:"rpm",stroke:S.rpm.color,strokeWidth:2,dot:!1,name:S.rpm.name,yAxisId:"rpm"}),a.has("dsrpm")&&b.jsx(N,{type:"monotone",dataKey:"dsrpm",stroke:S.dsrpm.color,strokeWidth:2,dot:!1,name:S.dsrpm.name,yAxisId:"rpm"}),a.has("lockRpm")&&b.jsx(N,{type:"monotone",dataKey:"lockRpm",stroke:S.lockRpm.color,strokeWidth:2,dot:!1,name:S.lockRpm.name,yAxisId:"rpm"}),a.has("v_mph")&&b.jsx(N,{type:"monotone",dataKey:"v_mph",stroke:S.v_mph.color,strokeWidth:2,dot:!1,name:S.v_mph.name,yAxisId:"speed"}),a.has("a_g")&&b.jsx(N,{type:"monotone",dataKey:"a_g",stroke:S.a_g.color,strokeWidth:2,dot:!1,name:S.a_g.name,yAxisId:"accel"}),a.has("hp")&&b.jsx(N,{type:"monotone",dataKey:"hp",stroke:S.hp.color,strokeWidth:2,dot:!1,name:S.hp.name,yAxisId:"hp"}),a.has("dragHp")&&b.jsx(N,{type:"monotone",dataKey:"dragHp",stroke:S.dragHp.color,strokeWidth:2,dot:!1,name:S.dragHp.name,yAxisId:"hp"}),a.has("gear")&&b.jsx(N,{type:"stepAfter",dataKey:"gear",stroke:S.gear.color,strokeWidth:2,dot:!1,name:S.gear.name,yAxisId:"gear"})]})})}),b.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px",marginTop:"8px",fontSize:"0.75rem"},children:Object.entries(S).map(([o,u])=>a.has(o)?b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[b.jsx("span",{style:{width:"14px",height:"3px",backgroundColor:u.color,borderRadius:"1px"}}),b.jsx("span",{style:{color:u.color,fontWeight:500},children:u.name})]},o):null)})]})}export{kt as default};
//# sourceMappingURL=DataLoggerChart-DAjbNu7d.js.map

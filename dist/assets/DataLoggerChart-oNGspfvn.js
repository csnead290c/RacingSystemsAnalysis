import{f as K,R as x,L as T,m as ee,i as V,C as te,A as Ae,a as z,b as M,c as Ce,d as ce,e as de,h as Ne,g as Pe,r as D,G as Oe,j as X,k as re,l as ne,D as Ke,u as je,S as he,n as Be,o as Me,p as Se,E as We,q as Le,s as Fe,t as Ve,v as N,B as He,X as we,Y as H,w as Xe,x as b,y as Ye,z as Ge,F as Ze,T as qe}from"./index-BgOCAatJ.js";var Je=["layout","type","stroke","connectNulls","isRange","ref"],Qe=["key"],_e;function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function ke(t,e){if(t==null)return{};var n=Ue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(this,arguments)}function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(n),!0).forEach(function(r){C(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ie(r.key),r)}}function tt(t,e,n){return e&&be(t.prototype,e),n&&be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rt(t,e,n){return e=ie(e),nt(t,Ee()?Reflect.construct(e,n||[],ie(t).constructor):e.apply(t,n))}function nt(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ee=function(){return!!t})()}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ie(t)}function at(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ue(t,e)}function C(t,e,n){return e=Ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ie(t){var e=ot(t,"string");return Y(e)=="symbol"?e:e+""}function ot(t,e){if(Y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F=function(t){function e(){var n;et(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=rt(this,e,[].concat(i)),C(n,"state",{isAnimationFinished:!0}),C(n,"id",je("recharts-area-")),C(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ne(s)&&s()}),C(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ne(s)&&s()}),n}return at(e,t),tt(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,f=this.state.isAnimationFinished;if(s&&!f)return null;var c=this.props,u=c.dot,l=c.points,p=c.dataKey,m=K(this.props,!1),o=K(u,!0),d=l.map(function(h,O){var y=B(B(B({key:"dot-".concat(O),r:3},m),o),{},{index:O,cx:h.x,cy:h.y,dataKey:p,value:h.value,payload:h.payload,points:l});return e.renderDotItem(u,y)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return x.createElement(T,L({className:"recharts-area-dots"},v),d)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,f=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,l=r*Math.abs(c-u),p=ee(s.map(function(m){return m.y||0}));return V(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(ee(a.map(function(m){return m.y||0})),p)),V(p)?x.createElement("rect",{x:c<u?c:c-l,y:0,width:l,height:Math.floor(p+(f?parseInt("".concat(f),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,f=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,l=r*Math.abs(c-u),p=ee(s.map(function(m){return m.x||0}));return V(a)&&typeof a=="number"?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(ee(a.map(function(m){return m.x||0})),p)),V(p)?x.createElement("rect",{x:0,y:c<u?c:c-l,width:p+(f?parseInt("".concat(f),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var f=this.props,c=f.layout,u=f.type,l=f.stroke,p=f.connectNulls,m=f.isRange;f.ref;var o=ke(f,Je);return x.createElement(T,{clipPath:a?"url(#clipPath-".concat(s,")"):null},x.createElement(te,L({},K(o,!0),{points:r,connectNulls:p,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),l!=="none"&&x.createElement(te,L({},K(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:r})),l!=="none"&&m&&x.createElement(te,L({},K(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,f=s.points,c=s.baseLine,u=s.isAnimationActive,l=s.animationBegin,p=s.animationDuration,m=s.animationEasing,o=s.animationId,d=this.state,v=d.prevPoints,h=d.prevBaseLine;return x.createElement(Ae,{begin:l,duration:p,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var y=O.t;if(v){var g=v.length/f.length,A=f.map(function(_,$){var E=Math.floor($*g);if(v[E]){var I=v[E],R=z(I.x,_.x),q=z(I.y,_.y);return B(B({},_),{},{x:R(y),y:q(y)})}return _}),P;if(V(c)&&typeof c=="number"){var j=z(h,c);P=j(y)}else if(M(c)||Ce(c)){var w=z(h,0);P=w(y)}else P=c.map(function(_,$){var E=Math.floor($*g);if(h[E]){var I=h[E],R=z(I.x,_.x),q=z(I.y,_.y);return B(B({},_),{},{x:R(y),y:q(y)})}return _});return a.renderAreaStatically(A,P,r,i)}return x.createElement(T,null,x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),x.createElement(T,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(f,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,f=a.baseLine,c=a.isAnimationActive,u=this.state,l=u.prevPoints,p=u.prevBaseLine,m=u.totalLength;return c&&s&&s.length&&(!l&&m>0||!ce(l,s)||!ce(p,f))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,f,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,f=i.points,c=i.className,u=i.top,l=i.left,p=i.xAxis,m=i.yAxis,o=i.width,d=i.height,v=i.isAnimationActive,h=i.id;if(a||!f||!f.length)return null;var O=this.state.isAnimationFinished,y=f.length===1,g=de("recharts-area",c),A=p&&p.allowDataOverflow,P=m&&m.allowDataOverflow,j=A||P,w=M(h)?this.id:h,_=(r=K(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=_.r,E=$===void 0?3:$,I=_.strokeWidth,R=I===void 0?2:I,q=Ne(s)?s:{},me=q.clipDot,ye=me===void 0?!0:me,U=E*2+R;return x.createElement(T,{className:g},A||P?x.createElement("defs",null,x.createElement("clipPath",{id:"clipPath-".concat(w)},x.createElement("rect",{x:A?l:l-o/2,y:P?u:u-d/2,width:A?o:o*2,height:P?d:d*2})),!ye&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:l-U/2,y:u-U/2,width:o+U,height:d+U}))):null,y?null:this.renderArea(j,w),(s||y)&&this.renderDots(j,ye,w),(!v||O)&&Pe.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);_e=F;C(F,"displayName","Area");C(F,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});C(F,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,f=s??a;if(V(f)&&typeof f=="number")return f;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var l=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return f==="dataMin"?p:f==="dataMax"||l<0?l:Math.max(Math.min(u[0],u[1]),0)}return f==="dataMin"?u[0]:f==="dataMax"?u[1]:u[0]});C(F,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,f=t.bandSize,c=t.dataKey,u=t.stackedData,l=t.dataStartIndex,p=t.displayedData,m=t.offset,o=e.layout,d=u&&u.length,v=_e.getBaseValue(e,n,r,i),h=o==="horizontal",O=!1,y=p.map(function(A,P){var j;d?j=u[l+P]:(j=X(A,c),Array.isArray(j)?O=!0:j=[v,j]);var w=j[1]==null||d&&X(A,c)==null;return h?{x:re({axis:r,ticks:a,bandSize:f,entry:A,index:P}),y:w?null:i.scale(j[1]),value:j,payload:A}:{x:w?null:r.scale(j[1]),y:re({axis:i,ticks:s,bandSize:f,entry:A,index:P}),value:j,payload:A}}),g;return d||O?g=y.map(function(A){var P=Array.isArray(A.value)?A.value[0]:null;return h?{x:A.x,y:P!=null&&A.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:A.y}}):g=h?i.scale(v):r.scale(v),B({points:y,baseLine:g,layout:o,isRange:O},m)});C(F,"renderDotItem",function(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(ne(t))n=t(e);else{var r=de("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=ke(e,Qe);n=x.createElement(Ke,L({},a,{key:i,className:r}))}return n});function G(t){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(t)}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Re(r.key),r)}}function ct(t,e,n){return e&&lt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ut(t,e,n){return e=ae(e),pt(t,De()?Reflect.construct(e,n||[],ae(t).constructor):e.apply(t,n))}function pt(t,e){if(e&&(G(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ft(t)}function ft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(De=function(){return!!t})()}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ae(t)}function dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pe(t,e)}function $e(t,e,n){return e=Re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Re(t){var e=mt(t,"string");return G(e)=="symbol"?e:e+""}function mt(t,e){if(G(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var se=function(t){function e(){return st(this,e),ut(this,e,arguments)}return dt(e,t),ct(e,[{key:"render",value:function(){return null}}])}(D.Component);$e(se,"displayName","ZAxis");$e(se,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var yt=["option","isActive"];function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J.apply(this,arguments)}function ht(t,e){if(t==null)return{};var n=vt(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bt(t){var e=t.option,n=t.isActive,r=ht(t,yt);return typeof e=="string"?D.createElement(he,J({option:D.createElement(Be,J({type:e},r)),isActive:n,shapeType:"symbols"},r)):D.createElement(he,J({option:e,isActive:n,shapeType:"symbols"},r))}function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xe(Object(n),!0).forEach(function(r){W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Te(r.key),r)}}function gt(t,e,n){return e&&ge(t.prototype,e),n&&ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function At(t,e,n){return e=oe(e),Pt(t,ze()?Reflect.construct(e,n||[],oe(t).constructor):e.apply(t,n))}function Pt(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot(t)}function Ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ze(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ze=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oe(t)}function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fe(t,e)}function W(t,e,n){return e=Te(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Te(t){var e=St(t,"string");return Z(e)=="symbol"?e:e+""}function St(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var le=function(t){function e(){var n;xt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=At(this,e,[].concat(i)),W(n,"state",{isAnimationFinished:!1}),W(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),W(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),W(n,"id",je("recharts-scatter-")),n}return jt(e,t),gt(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,s=a.shape,f=a.activeShape,c=a.activeIndex,u=K(this.props,!1);return r.map(function(l,p){var m=c===p,o=m?f:s,d=k(k({},u),l);return x.createElement(T,Q({className:"recharts-scatter-symbol",key:"symbol-".concat(l==null?void 0:l.cx,"-").concat(l==null?void 0:l.cy,"-").concat(l==null?void 0:l.size,"-").concat(p)},Me(i.props,l,p),{role:"img"}),x.createElement(bt,Q({option:o,isActive:m,key:"symbol-".concat(p)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,s=i.isAnimationActive,f=i.animationBegin,c=i.animationDuration,u=i.animationEasing,l=i.animationId,p=this.state.prevPoints;return x.createElement(Ae,{begin:f,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var o=m.t,d=a.map(function(v,h){var O=p&&p[h];if(O){var y=z(O.cx,v.cx),g=z(O.cy,v.cy),A=z(O.size,v.size);return k(k({},v),{},{cx:y(o),cy:g(o),size:A(o)})}var P=z(0,v.size);return k(k({},v),{},{size:P(o)})});return x.createElement(T,null,r.renderSymbolsStatically(d))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!ce(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,f=i.yAxis,c=i.children,u=Se(c,We);return u?u.map(function(l,p){var m=l.props,o=m.direction,d=m.dataKey;return x.cloneElement(l,{key:"".concat(o,"-").concat(d,"-").concat(a[p]),data:a,xAxis:s,yAxis:f,layout:o==="x"?"vertical":"horizontal",dataPointFormatter:function(h,O){return{x:h.cx,y:h.cy,value:o==="x"?+h.node.x:+h.node.y,errorVal:X(h,O)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,s=r.lineType,f=r.lineJointType,c=K(this.props,!1),u=K(a,!1),l,p;if(s==="joint")l=i.map(function(g){return{x:g.cx,y:g.cy}});else if(s==="fitting"){var m=Le(i),o=m.xmin,d=m.xmax,v=m.a,h=m.b,O=function(A){return v*A+h};l=[{x:o,y:O(o)},{x:d,y:O(d)}]}var y=k(k(k({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:l});return x.isValidElement(a)?p=x.cloneElement(a,y):ne(a)?p=a(y):p=x.createElement(te,Q({},y,{type:f})),x.createElement(T,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,s=r.line,f=r.className,c=r.xAxis,u=r.yAxis,l=r.left,p=r.top,m=r.width,o=r.height,d=r.id,v=r.isAnimationActive;if(i||!a||!a.length)return null;var h=this.state.isAnimationFinished,O=de("recharts-scatter",f),y=c&&c.allowDataOverflow,g=u&&u.allowDataOverflow,A=y||g,P=M(d)?this.id:d;return x.createElement(T,{className:O,clipPath:A?"url(#clipPath-".concat(P,")"):null},y||g?x.createElement("defs",null,x.createElement("clipPath",{id:"clipPath-".concat(P)},x.createElement("rect",{x:y?l:l-m/2,y:g?p:p-o/2,width:y?m:m*2,height:g?o:o*2}))):null,s&&this.renderLine(),this.renderErrorBar(),x.createElement(T,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||h)&&Pe.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(D.PureComponent);W(le,"displayName","Scatter");W(le,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Oe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});W(le,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,f=t.yAxisTicks,c=t.offset,u=i.props.tooltipType,l=Se(i.props.children,Fe),p=M(e.dataKey)?i.props.dataKey:e.dataKey,m=M(n.dataKey)?i.props.dataKey:n.dataKey,o=r&&r.dataKey,d=r?r.range:se.defaultProps.range,v=d&&d[0],h=e.scale.bandwidth?e.scale.bandwidth():0,O=n.scale.bandwidth?n.scale.bandwidth():0,y=a.map(function(g,A){var P=X(g,p),j=X(g,m),w=!M(o)&&X(g,o)||"-",_=[{name:M(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:P,payload:g,dataKey:p,type:u},{name:M(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:g,dataKey:m,type:u}];w!=="-"&&_.push({name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:g,dataKey:o,type:u});var $=re({axis:e,ticks:s,bandSize:h,entry:g,index:A,dataKey:p}),E=re({axis:n,ticks:f,bandSize:O,entry:g,index:A,dataKey:m}),I=w!=="-"?r.scale(w):v,R=Math.sqrt(Math.max(I,0)/Math.PI);return k(k({},g),{},{cx:$,cy:E,x:$-R,y:E-R,xAxis:e,yAxis:n,zAxis:r,width:2*R,height:2*R,size:I,node:{x:P,y:j,z:w},tooltipPayload:_,tooltipPosition:{x:$,y:E},payload:g},l&&l[A]&&l[A].props)});return k({points:y},c)});var wt=Ve({chartName:"ComposedChart",GraphicalChild:[N,F,He,le],axisComponents:[{axisType:"xAxis",AxisComp:we},{axisType:"yAxis",AxisComp:H},{axisType:"zAxis",AxisComp:se}],formatAxisMap:Xe});const S={rpm:{name:"Engine RPM",color:"#ef4444",unit:"RPM",yAxisId:"rpm"},dsrpm:{name:"Driveshaft RPM",color:"#f97316",unit:"RPM",yAxisId:"rpm"},lockRpm:{name:"Clutch/Conv RPM",color:"#eab308",unit:"RPM",yAxisId:"rpm"},v_mph:{name:"Car Speed",color:"#22c55e",unit:"mph",yAxisId:"speed"},a_g:{name:"Acceleration",color:"#3b82f6",unit:"g",yAxisId:"accel"},hp:{name:"Horsepower",color:"#8b5cf6",unit:"HP",yAxisId:"hp"},dragHp:{name:"Drag HP",color:"#ec4899",unit:"HP",yAxisId:"hp"},gear:{name:"Gear",color:"#9ca3af",unit:"",yAxisId:"gear"}};function kt({data:t,distanceMarkers:e=[60,330,660,1e3,1320],raceLengthFt:n=1320}){const[r,i]=D.useState("time"),[a,s]=D.useState(new Set(["rpm","v_mph","a_g"])),f=o=>{s(d=>{const v=new Set(d);return v.has(o)?v.delete(o):v.add(o),v})},c=D.useMemo(()=>{const o=new Set;return a.forEach(d=>{o.add(S[d].yAxisId)}),o},[a]),{chartData:u,markerIndices:l}=D.useMemo(()=>{let o=0;for(let y=0;y<t.length;y++)if(t[y].t_s>0){o=Math.max(0,y-1);break}const d=t.slice(o),v=e.filter(y=>y<=n),h=[];for(const y of v){let g=-1,A=1/0;for(let P=0;P<d.length;P++){const j=Math.abs(d[P].s_ft-y);j<A&&(A=j,g=P)}g>=0&&h.push({distance:y,index:g})}return{chartData:d.map(y=>({...y,xValue:r==="time"?y.t_s:y.s_ft})),markerIndices:h}},[t,r,e,n]),p=D.useMemo(()=>l.map(o=>{var d;return{distance:o.distance,xValue:(d=u[o.index])==null?void 0:d.xValue}}).filter(o=>o.xValue!==void 0&&!isNaN(o.xValue)),[u,l]);if(!t||t.length===0)return b.jsx("div",{className:"text-center text-muted",style:{padding:"var(--space-6)"},children:"No trace data available"});const m=["speed","accel","hp"].filter(o=>c.has(o)).length;return b.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)",marginBottom:"var(--space-2)",flexShrink:0},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[b.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"var(--color-text-muted)"},children:"X-Axis"}),b.jsxs("div",{style:{display:"inline-flex",borderRadius:"var(--radius-md)",overflow:"hidden",border:"2px solid var(--color-border)",backgroundColor:"var(--color-bg-secondary)"},children:[b.jsx("button",{onClick:()=>i("time"),style:{padding:"8px 20px",border:"none",backgroundColor:r==="time"?"var(--color-primary)":"transparent",color:r==="time"?"white":"var(--color-text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.15s ease"},children:"Time (s)"}),b.jsx("button",{onClick:()=>i("distance"),style:{padding:"8px 20px",border:"none",borderLeft:"2px solid var(--color-border)",backgroundColor:r==="distance"?"var(--color-primary)":"transparent",color:r==="distance"?"white":"var(--color-text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.15s ease"},children:"Distance (ft)"})]})]}),b.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:Object.entries(S).map(([o,d])=>{if(!t.some(O=>O[o]!==void 0))return null;const h=a.has(o);return b.jsxs("button",{onClick:()=>f(o),title:d.name,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"12px",border:"none",backgroundColor:h?d.color:"var(--color-bg-secondary)",color:h?"white":"var(--color-text-muted)",cursor:"pointer",fontSize:"0.7rem",fontWeight:600,transition:"all 0.15s ease",opacity:h?1:.7},children:[b.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:h?"white":d.color}}),d.name]},o)})})]}),b.jsx("div",{style:{flex:1,minHeight:0},children:b.jsx(Ye,{width:"100%",height:"100%",children:b.jsxs(wt,{data:u,margin:{top:10,right:5+m*40,left:5,bottom:20},children:[b.jsx(Ge,{strokeDasharray:"3 3",stroke:"var(--color-border)",opacity:.3}),b.jsx(we,{dataKey:"xValue",type:"number",domain:["dataMin","dataMax"],stroke:"var(--color-text-muted)",tick:{fontSize:10,fill:"var(--color-text-muted)"},tickFormatter:o=>r==="time"?o.toFixed(1):o.toFixed(0),label:{value:r==="time"?"Time (s)":"Distance (ft)",position:"insideBottom",offset:-10,fontSize:11,fill:"var(--color-text-muted)"}}),c.has("rpm")&&b.jsx(H,{yAxisId:"rpm",orientation:"left",stroke:"#ef4444",tick:{fontSize:10,fill:"#ef4444"},tickFormatter:o=>`${(o/1e3).toFixed(0)}k`,width:40}),c.has("speed")&&b.jsx(H,{yAxisId:"speed",orientation:"right",stroke:"#22c55e",tick:{fontSize:10,fill:"#22c55e"},width:35}),c.has("accel")&&b.jsx(H,{yAxisId:"accel",orientation:"right",stroke:"#3b82f6",domain:[0,"auto"],tick:{fontSize:10,fill:"#3b82f6"},tickFormatter:o=>o.toFixed(1),width:30}),c.has("hp")&&b.jsx(H,{yAxisId:"hp",orientation:"right",stroke:"#8b5cf6",tick:{fontSize:10,fill:"#8b5cf6"},width:40}),b.jsx(H,{yAxisId:"gear",orientation:"right",domain:[0,6],hide:!0}),p.map(o=>b.jsx(Ze,{x:o.xValue,yAxisId:"rpm",stroke:"var(--color-chart-marker)",strokeWidth:2,strokeDasharray:"6 4",label:{value:`${o.distance}'`,position:"top",fill:"var(--color-chart-marker)",fontSize:10,fontWeight:700}},`dist-${o.distance}`)),b.jsx(qe,{contentStyle:{backgroundColor:"var(--color-bg)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",color:"var(--color-text)",fontSize:"0.75rem",padding:"8px"},formatter:(o,d)=>{const v=Object.values(S).find(h=>h.name===d);return v?[`${o.toFixed(v.unit==="RPM"?0:2)} ${v.unit}`,d]:[o.toFixed(2),d]},labelFormatter:o=>r==="time"?`Time: ${o.toFixed(3)}s`:`Distance: ${o.toFixed(0)} ft`}),a.has("rpm")&&b.jsx(N,{type:"monotone",dataKey:"rpm",stroke:S.rpm.color,strokeWidth:2,dot:!1,name:S.rpm.name,yAxisId:"rpm"}),a.has("dsrpm")&&b.jsx(N,{type:"monotone",dataKey:"dsrpm",stroke:S.dsrpm.color,strokeWidth:2,dot:!1,name:S.dsrpm.name,yAxisId:"rpm"}),a.has("lockRpm")&&b.jsx(N,{type:"monotone",dataKey:"lockRpm",stroke:S.lockRpm.color,strokeWidth:2,dot:!1,name:S.lockRpm.name,yAxisId:"rpm"}),a.has("v_mph")&&b.jsx(N,{type:"monotone",dataKey:"v_mph",stroke:S.v_mph.color,strokeWidth:2,dot:!1,name:S.v_mph.name,yAxisId:"speed"}),a.has("a_g")&&b.jsx(N,{type:"monotone",dataKey:"a_g",stroke:S.a_g.color,strokeWidth:2,dot:!1,name:S.a_g.name,yAxisId:"accel"}),a.has("hp")&&b.jsx(N,{type:"monotone",dataKey:"hp",stroke:S.hp.color,strokeWidth:2,dot:!1,name:S.hp.name,yAxisId:"hp"}),a.has("dragHp")&&b.jsx(N,{type:"monotone",dataKey:"dragHp",stroke:S.dragHp.color,strokeWidth:2,dot:!1,name:S.dragHp.name,yAxisId:"hp"}),a.has("gear")&&b.jsx(N,{type:"stepAfter",dataKey:"gear",stroke:S.gear.color,strokeWidth:2,dot:!1,name:S.gear.name,yAxisId:"gear"})]})})}),b.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px",marginTop:"8px",fontSize:"0.75rem"},children:Object.entries(S).map(([o,d])=>a.has(o)?b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[b.jsx("span",{style:{width:"14px",height:"3px",backgroundColor:d.color,borderRadius:"1px"}}),b.jsx("span",{style:{color:d.color,fontWeight:500},children:d.name})]},o):null)})]})}export{kt as default};
//# sourceMappingURL=DataLoggerChart-oNGspfvn.js.map

import{r as j,j as e}from"./index-CNLlDnIA.js";function F({simResult:i,vehicle:n,env:o,baselineResult:c}){var g;const[d,m]=j.useState(!1),r=[],a=(n.powerHP??500)/(n.weightLb??3e3)*1e3;r.push({name:"Power-to-Weight",impact:a>5?"positive":a<3?"negative":"neutral",description:"Higher ratio = faster acceleration",value:`${a.toFixed(2)} HP/1000 lb`});const s=b(o),v=s>3e3?"negative":s<1e3?"positive":"neutral";r.push({name:"Density Altitude",impact:v,description:s>2e3?"High DA reduces engine power output":"Good air density for power",value:`${s.toFixed(0)} ft`,contribution:s>2e3?`+${((s-1e3)*5e-5).toFixed(3)}s`:void 0});const f=(o.temperatureF??75)>90?"negative":(o.temperatureF??75)<60?"positive":"neutral";r.push({name:"Air Temperature",impact:f,description:(o.temperatureF??75)>85?"Hot air is less dense, reducing power":"Cooler air improves power",value:`${o.temperatureF??75}Â°F`});const l=o.tractionIndex??5,y=l>=7?"positive":l<=3?"negative":"neutral";r.push({name:"Track Traction",impact:y,description:l>=7?"Excellent traction for hard launches":l<=3?"Poor traction may cause wheelspin":"Moderate traction conditions",value:`${l}/10`});const u=n.rearGear??3.73;if(r.push({name:"Final Drive Ratio",impact:"neutral",description:u>4.5?"Aggressive gearing for quick acceleration":u<3.5?"Tall gearing for top speed":"Balanced gearing",value:`${u.toFixed(2)}:1`}),n.transmissionType==="converter"){const t=n.converterStallRPM??3e3;r.push({name:"Converter Stall",impact:t>4e3?"positive":t<2500?"negative":"neutral",description:t>4e3?"High stall helps launch in powerband":t<2500?"Low stall may bog off the line":"Moderate stall speed",value:`${t} RPM`})}const x=(g=i.timeslip)==null?void 0:g.find(t=>t.d_ft===60);if(x){const t=x.t_s,h=t<1.3?"positive":t>1.6?"negative":"neutral";r.push({name:"60' Time",impact:h,description:t<1.3?"Excellent launch - strong 60' time":t>1.6?"Slow 60' hurting overall ET":"Decent launch",value:`${t.toFixed(3)}s`})}let p=null;return c&&(p={etDelta:i.et_s-c.et_s,mphDelta:i.mph-c.mph}),e.jsxs("div",{style:{backgroundColor:"var(--color-surface)",borderRadius:"8px",border:"1px solid var(--color-border)",overflow:"hidden"},children:[e.jsxs("button",{onClick:()=>m(!d),style:{width:"100%",padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"var(--color-text)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ”"}),e.jsx("span",{style:{fontWeight:600,fontSize:"0.9rem"},children:"Explain This Run"})]}),e.jsx("span",{style:{transform:d?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"â–¼"})]}),d&&e.jsxs("div",{style:{padding:"0 16px 16px"},children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--color-bg)",borderRadius:"6px",marginBottom:"16px"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)",marginBottom:"4px"},children:"Predicted Performance"}),e.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"baseline"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"1.5rem",fontWeight:700},children:i.et_s.toFixed(3)}),e.jsx("span",{style:{fontSize:"0.9rem",color:"var(--color-text-muted)"},children:" sec"})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"1.5rem",fontWeight:700},children:i.mph.toFixed(1)}),e.jsx("span",{style:{fontSize:"0.9rem",color:"var(--color-text-muted)"},children:" mph"})]})]}),p&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem"},children:[e.jsxs("span",{style:{color:p.etDelta>0?"#ef4444":"#22c55e"},children:[p.etDelta>0?"+":"",p.etDelta.toFixed(3),"s"]}),e.jsx("span",{style:{color:"var(--color-text-muted)"},children:" vs baseline"})]})]}),e.jsx("div",{style:{fontSize:"0.8rem",fontWeight:600,marginBottom:"8px",color:"var(--color-text-muted)"},children:"CONTRIBUTING FACTORS"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:r.map((t,h)=>e.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"var(--color-bg)",borderRadius:"6px",borderLeft:`3px solid ${t.impact==="positive"?"#22c55e":t.impact==="negative"?"#ef4444":"var(--color-border)"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:600,fontSize:"0.85rem"},children:t.name}),e.jsx("span",{style:{fontWeight:600,fontSize:"0.85rem",color:t.impact==="positive"?"#22c55e":t.impact==="negative"?"#ef4444":"var(--color-text)"},children:t.value})]}),e.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",marginTop:"4px"},children:[t.description,t.contribution&&e.jsxs("span",{style:{marginLeft:"8px",color:t.impact==="negative"?"#ef4444":"#22c55e",fontWeight:600},children:["(",t.contribution,")"]})]})]},h))}),e.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"6px",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",fontWeight:600,color:"var(--color-accent)",marginBottom:"6px"},children:"ðŸ’¡ Quick Tips"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"0.8rem",color:"var(--color-text-muted)",lineHeight:1.6},children:[s>2500&&e.jsx("li",{children:"High DA is hurting power. Consider waiting for cooler conditions."}),(o.temperatureF??75)>90&&e.jsx("li",{children:"Hot temps reducing air density. Watch for detonation."}),l<=3&&e.jsx("li",{children:"Poor traction may cause wheelspin. Consider softer launch."}),x&&x.t_s>1.5&&e.jsx("li",{children:"60' time is slow. Focus on launch technique or converter stall."}),a<3&&e.jsx("li",{children:"Low power-to-weight ratio. Consider weight reduction."})]})]})]})]})}function b(i){const n=i.temperatureF??75,o=i.barometerInHg??29.92,c=(i.humidityPct??50)/100,d=i.elevation??0,m=120*(n-59),r=(29.92-o)*1e3,a=c*1e3;return d+m+r+a}export{F as default};
//# sourceMappingURL=ExplainRun-h89xjjWZ.js.map
